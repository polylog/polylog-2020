# Everything you need to know about configuring the CMS can be found here:-
# https://www.netlifycms.org/docs/configuration-options/

backend:
  name: git-gateway # Netlify’s Git Gateway connects to Git provider’s API
  branch: master # Branch to update (master by default)

media_folder: a/upload/blog # Folder where user uploaded files should go

# Prevent timezones conflicts
future: true

slug:
  encoding: 'ascii'
  clean_accents: true

editor:
  preview: false

collections:
  - label: "Запись в блоге"
    name: "blog"
    folder: "collections/_blog/2020"
    create: true
    sort: 'date:desc' # Default is title:asc
    slug: '{{ year }}-{{ month }}-{{ day }}-{{ slug }}' # fields.slug means 'field `slug` in front matter'

    # The fields each document in this collection have
    # Additional widgets: code, boolean, file, map, number, object, relation,
    # select, text - www.netlifycms.org/docs/widgets
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - {label: "Featured Image", name: "thumbnail", widget: "image"}
      - {label: "Body", name: "body", widget: "markdown"}
      - { label: 'Макет', name: 'layout', widget: 'hidden', default: 'post' }
      # - { label: 'Название страницы в веб-адресе (латиницей, строчными, через дефис)', name: 'slug', widget: 'string' }
      - label: 'Категории'
        name: 'categories'
        widget: 'list'
        fields:
          - { label: 'Event-менеджмент', value: 'Event-менеджмент' }
          - { label: 'GR', value: 'GR' }
          - { label: 'Диджитал-маркетинг', value: 'Диджитал-маркетинг' }
          - { label: 'Журналистика', value: 'Журналистика' }
          - { label: 'Классика по средам', value: 'Классика по средам' }
          - { label: 'Маркетинг', value: 'Маркетинг' }
          - { label: 'Менеджмент', value: 'Менеджмент' }
          - { label: 'Пиар (PR)', value: 'Пиар (PR)' }
          - { label: 'Промо-кампании', value: 'Промо-кампании' }
          - { label: 'Реклама', value: 'Реклама' }


    # PAGES
    # - name: "page"
    #   label: "Page"
    #   folder: "pages"
    #   etc

view_filters:
  # - label: "Alice's and Bob's Posts"
  #   field: author
  #   pattern: 'Alice|Bob'
  - label: 'Записи за 2020'
    field: date
    pattern: '2020'
